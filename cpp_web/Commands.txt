# Build docker image
cd _cpp_web_box
docker build --rm --no-cache -t cpp_web_box .

# Build the app
docker run -v D:\Projects\Phi\cpp_web\cpp_web:/usr/cpp_web -ti cpp_web_box:latest bash
cd /usr/cpp_web/build
cmake ..
make
exit

# Copy contents of cpp_web folder on host to docker container (ID obtained from docker ps listing when container is running)
docker run -ti cpp_web_box:latest bash

// Another tab
docker ps
cd D:\Projects\Phi\cpp_web\cpp_web
docker cp . ffa79cacad3a:/usr/cpp_web
docker commit ffa79cacad3a cpp_web_box:latest

# Run the app and go to localhost:8080 to check it is working
docker run -p 8080:8080 -e PORT=8080 -e <MONGODB_URI_PRIVATE> -ti cpp_web_box:latest /usr/cpp_web/build/cpp_web

# Deploy to heroku
cd _cpp_web_box_heroku
docker build --rm --no-cache -t cpp_web_box_heroku .

heroku login
heroku container:login
heroku create // Don't call this if app is already created

heroku container:push web -a rocky-garden-02617
heroku container:release web -a rocky-garden-02617
heroku open -a rocky-garden-02617
